<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emotion Detector</title>

    <!-- Favicon -->
    <link
      rel="icon"
      href="{{url_for('static', filename='favicon/index.png')}}"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Bootstrap Link (to be added before other stylesheet links) -->
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="{{url_for('static', filename='css/index.css')}}"
    />
  </head>

  <body>
    <!-- Headings -->
    <h1 class="Title">Emotion Detector</h1>
    <h2 class="SubTitle">Slide here for some fun</h2>

    <!-- Arrow Animation -->
    <div class="arrow">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- Super Slider -->
    <div class="SuperSlider">
      <div id="left-side" class="side">
        <h1 class="title">
          Detect your
          <span class="fancy">emotions :(</span>
        </h1>
      </div>
      <div id="right-side" class="side">
        <h1 class="title">
          Detect your
          <span class="fancy">emotions :)</span>
        </h1>
      </div>
    </div>

    <!-- Steps -->
    <div class="Steps">
      <h2 class="StepsTitle">How to use?</h2>
      <ol class="gradient-list">
        <li>Click on <span>Play</span> to start the webcam.</li>
        <li>Click on <span>Snap</span> to take a picture of your face.</li>
        <li>Wait for the prediction.</li>
        <li>
          Voila! You have your emotion displayed alongside the original
          snapshot.
        </li>
        <li>Click on <span>Close</span> to stop the webcam and start again.</li>
      </ol>
    </div>

    <!-- Boxes -->
    <div class="container Boxes">
      <!-- Webcam -->
      <div class="row justify-content-center my-4">
        <div class="col-md-6 col-sm-12">
          <div class="card text-center">
            <div class="card-header">
              <h4 class="my-2">Webcam</h4>
            </div>
            <div class="card-body">
              <video id="videoElement" class="w-100"></video>
            </div>
          </div>
        </div>
      </div>

      <!-- Buttons -->
      <div class="Buttons">
        <div class="ButtonsCol">
          <button class="btn btn-lg MyButton" onclick="startWebcam()">
            Play
          </button>
        </div>
        <div class="ButtonsCol">
          <button class="btn btn-lg MyButton" onclick="stopWebcam()">
            Close
          </button>
        </div>
        <div class="ButtonsCol">
          <button class="btn btn-lg MyButton" onclick="takeSnapshot()">
            Snap
          </button>
        </div>
      </div>

      <!-- Spinner -->
      <div class="Spinner" style="display: none">
        <div class="hexagon" aria-label="Animated hexagonal ripples">
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
          <div class="hexagon__group">
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
            <div class="hexagon__sector"></div>
          </div>
        </div>
        <p aria-label="Loading">Loading</p>
      </div>

      <!-- Original and Predicted Images -->
      <div class="row justify-content-center my-4">
        <div class="col-md-6 col-sm-12">
          <div class="card text-center">
            <div class="card-header">
              <h4 class="my-2">Original Snapshot</h4>
            </div>
            <div class="card-body">
              <div id="imageDiv"></div>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-sm-12">
          <div class="card text-center">
            <div class="card-header">
              <h4 class="my-2">Predicted Emotion</h4>
            </div>
            <div class="card-body">
              <div id="predictedImageDiv"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- About -->
    <div class="row About">
      <div class="col-md-8 col-sm-12">
        <div class="card text-center">
          <div class="card-header">
            <h4 class="my-2">About</h4>
          </div>
          <div class="card-body">
            <p class="AboutText">
              The Emotion Detector web application uses a machine learning model
              to detect human emotions from facial expressions. The model is a
              Convolutional Neural Network (CNN) trained on the FER-2013
              dataset, which contains over 35,000 images of human faces
              categorized into seven different emotions - angry, disgusted,
              fearful, happy, neutral, sad, and surprised.
            </p>
            <p class="AboutText">
              The web application is built using HTML, CSS, and JavaScript for
              the front-end, and Flask for the back-end. The Flask app serves
              the HTML templates and handles the API calls for the webcam and
              image processing.
            </p>
            <p class="AboutText">
              The machine learning model is trained and saved in a Jupyter
              Notebook, which is then loaded into the Flask app for real-time
              predictions.
            </p>
            <p class="AboutText">
              My Jupyter Notebook Link:
              <a
                target="_blank"
                href="https://github.com/Hardvan/My-Machine-Learning-Projects/blob/main/Kaggle%20Practice/11_Emotion_Detection/EmotionDetection.ipynb"
                >Emotion Detector Jupyter Notebook</a
              >
            </p>
            <p class="AboutText">
              My GitHub Link:
              <a
                target="_blank"
                href="https://github.com/Hardvan/EmotionDetector"
                >Emotion Detector GitHub</a
              >
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Custom JS -->
    <script
      type="text/javascript"
      src="{{url_for('static', filename='js/index.js')}}"
    ></script>

    <!-- Bootstrap JS (to be added before other JS links) -->
    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
